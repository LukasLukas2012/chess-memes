<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Chess Academy - Elite Training Platform</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');

        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #151b3d;
            --bg-tertiary: #1a2149;
            --accent-cyan: #00f0ff;
            --accent-purple: #b844ff;
            --accent-gold: #ffd700;
            --text-primary: #e0e6ff;
            --text-secondary: #8b92b8;
            --success: #00ff88;
            --danger: #ff2e63;
            --shadow-glow: 0 0 40px rgba(0, 240, 255, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, #0d1234 100%);
            color: var(--text-primary);
            font-family: 'Rajdhani', sans-serif;
            position: relative;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Animated Background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.15;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--accent-cyan);
            border-radius: 50%;
            animation: float 20s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translate(100px, -100vh) scale(0.5); opacity: 0; }
        }

        /* Matrix Rain Effect */
        #matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.08;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
            position: relative;
            z-index: 10;
        }

        /* Header with Glassmorphism */
        header {
            background: rgba(21, 27, 61, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 240, 255, 0.2);
            padding: 2rem;
            text-align: center;
            border-radius: 20px;
            margin-bottom: 3rem;
            box-shadow: var(--shadow-glow);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 240, 255, 0.1), transparent);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(0, 240, 255, 0.5);
            margin-bottom: 0.5rem;
            letter-spacing: 3px;
        }

        header p {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 300;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: rgba(21, 27, 61, 0.6);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(0, 240, 255, 0.2);
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple));
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0, 240, 255, 0.3);
            border-color: var(--accent-cyan);
        }

        .stat-value {
            font-size: 2.5rem;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: var(--accent-cyan);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 3rem;
        }

        .feature-card {
            background: rgba(21, 27, 61, 0.6);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(0, 240, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 240, 255, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 60px rgba(0, 240, 255, 0.4);
            border-color: var(--accent-cyan);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .feature-card h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--accent-cyan);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .feature-card p {
            margin-bottom: 20px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .feature-card ul {
            list-style: none;
            padding: 0;
        }

        .feature-card ul li {
            margin: 12px 0;
            padding: 10px 15px;
            background: rgba(0, 240, 255, 0.05);
            border-left: 3px solid var(--accent-cyan);
            border-radius: 5px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .feature-card ul li:hover {
            background: rgba(0, 240, 255, 0.15);
            transform: translateX(10px);
            border-left-color: var(--accent-purple);
        }

        .feature-card ul li::before {
            content: "‚ö°";
            margin-right: 10px;
            color: var(--accent-cyan);
        }

        .feature-card a {
            color: var(--text-primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .feature-card a:hover {
            color: var(--accent-cyan);
            text-shadow: 0 0 10px rgba(0, 240, 255, 0.8);
        }

        /* Advanced Chessboard */
        .chessboard-section {
            background: rgba(21, 27, 61, 0.6);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            border: 1px solid rgba(0, 240, 255, 0.2);
            margin-bottom: 3rem;
            box-shadow: var(--shadow-glow);
        }

        .board-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .game-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--accent-cyan);
        }

        .game-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .status-message {
            text-align: center;
            font-size: 1.3rem;
            margin: 20px 0;
            min-height: 30px;
            color: var(--accent-cyan);
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
        }

        .chessboard-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chessboard {
            width: 100%;
            max-width: 600px;
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            border: 3px solid var(--accent-cyan);
            border-radius: 10px;
            box-shadow: 0 0 50px rgba(0, 240, 255, 0.4),
                        inset 0 0 30px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .square {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .square::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(0, 240, 255, 0.3) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .square:hover::before {
            opacity: 1;
        }

        .white {
            background: linear-gradient(135deg, #2a3b5c 0%, #1e2d4a 100%);
        }

        .black {
            background: linear-gradient(135deg, #0f1729 0%, #080d1a 100%);
        }

        .square:hover {
            box-shadow: inset 0 0 20px rgba(0, 240, 255, 0.5);
            transform: scale(0.95);
        }

        .selected {
            background: radial-gradient(circle, rgba(0, 240, 255, 0.4) 0%, transparent 70%) !important;
            box-shadow: 0 0 20px var(--accent-cyan) !important;
            animation: glow 1s infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 0 20px var(--accent-cyan); }
            to { box-shadow: 0 0 40px var(--accent-cyan); }
        }

        .valid-move {
            position: relative;
        }

        .valid-move::after {
            content: '‚óè';
            position: absolute;
            color: var(--success);
            font-size: 1.5rem;
            opacity: 0.6;
        }

        /* Advanced Buttons */
        .btn {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.2), rgba(184, 68, 255, 0.2));
            color: var(--text-primary);
            padding: 12px 30px;
            border: 2px solid var(--accent-cyan);
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(0, 240, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn:hover {
            background: linear-gradient(135deg, rgba(0, 240, 255, 0.4), rgba(184, 68, 255, 0.4));
            box-shadow: 0 0 30px rgba(0, 240, 255, 0.6);
            transform: translateY(-3px);
            border-color: var(--accent-purple);
        }

        .btn-secondary {
            border-color: var(--accent-purple);
            background: linear-gradient(135deg, rgba(184, 68, 255, 0.2), rgba(255, 215, 0, 0.2));
        }

        .btn-danger {
            border-color: var(--danger);
            background: linear-gradient(135deg, rgba(255, 46, 99, 0.2), rgba(255, 107, 107, 0.2));
        }

        /* Resources Section */
        .chess-resources {
            background: rgba(21, 27, 61, 0.6);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            border: 1px solid rgba(0, 240, 255, 0.2);
            box-shadow: var(--shadow-glow);
        }

        .chess-resources h2 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            margin-bottom: 25px;
            color: var(--accent-cyan);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .resource-item {
            background: rgba(10, 14, 39, 0.5);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(0, 240, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .resource-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0, 240, 255, 0.3);
            border-color: var(--accent-purple);
        }

        .resource-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .resource-item h4 {
            color: var(--accent-cyan);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .resource-item p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Modal Redesign */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            margin: 5% auto;
            padding: 40px;
            border: 2px solid var(--accent-cyan);
            border-radius: 25px;
            width: 90%;
            max-width: 700px;
            box-shadow: 0 0 100px rgba(0, 240, 255, 0.5);
            animation: slideDown 0.4s;
            position: relative;
        }

        @keyframes slideDown {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-purple), var(--accent-gold));
            border-radius: 25px 25px 0 0;
        }

        .close {
            color: var(--accent-cyan);
            float: right;
            font-size: 35px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            line-height: 1;
        }

        .close:hover {
            color: var(--danger);
            transform: rotate(90deg);
            text-shadow: 0 0 20px var(--danger);
        }

        #modalTitle {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--accent-cyan);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        #modalBody {
            color: var(--text-primary);
            line-height: 1.8;
        }

        #modalBody h3 {
            color: var(--accent-purple);
            margin: 20px 0 10px;
            font-size: 1.5rem;
        }

        #modalBody p {
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
        }

        #modalBody p::before {
            content: '‚ñ∏';
            position: absolute;
            left: 0;
            color: var(--accent-cyan);
        }

        /* Leaderboard */
        .leaderboard {
            background: rgba(10, 14, 39, 0.5);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: rgba(0, 240, 255, 0.05);
            border-left: 3px solid var(--accent-cyan);
            border-radius: 8px;
            transition: all 0.3s;
        }

        .leaderboard-item:hover {
            background: rgba(0, 240, 255, 0.15);
            transform: translateX(10px);
        }

        .rank {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: var(--accent-gold);
            font-weight: 700;
            min-width: 50px;
        }

        .player-name {
            flex-grow: 1;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .elo-rating {
            font-family: 'Orbitron', sans-serif;
            color: var(--accent-cyan);
            font-weight: 600;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .stats-bar {
                grid-template-columns: 1fr 1fr;
            }

            .chessboard {
                max-width: 400px;
            }

            .square {
                font-size: 2rem;
            }

            .game-controls {
                width: 100%;
                justify-content: center;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 240, 255, 0.3);
            border-top-color: var(--accent-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Notification Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
            color: var(--text-primary);
            padding: 20px 30px;
            border-radius: 15px;
            border: 1px solid var(--accent-cyan);
            box-shadow: 0 10px 40px rgba(0, 240, 255, 0.4);
            z-index: 3000;
            animation: slideInRight 0.5s;
            display: none;
        }

        @keyframes slideInRight {
            from { transform: translateX(500px); }
            to { transform: translateX(0); }
        }

        .toast.show {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="matrix-bg"></canvas>
    
    <!-- Animated Particles -->
    <div class="particles" id="particles"></div>

    <div class="container">
        <!-- Header -->
        <header>
            <h1>‚ö° QUANTUM CHESS ACADEMY ‚ö°</h1>
            <p>Elite Training Platform f√ºr Schachmeister der Zukunft</p>
        </header>

        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-value">1847</div>
                <div class="stat-label">ELO Rating</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">156</div>
                <div class="stat-label">Siege</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">23</div>
                <div class="stat-label">Aktive Turniere</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">89%</div>
                <div class="stat-label">Gewinnrate</div>
            </div>
        </div>

        <!-- Features Grid -->
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üéì</div>
                <h3>Training Academy</h3>
                <p>Hochmoderne KI-gest√ºtzte Lernmethoden f√ºr maximalen Fortschritt</p>
                <ul>
                    <li><a onclick="showLesson('grundregeln')">Quantum Basics - Fundamentale Prinzipien</a></li>
                    <li><a onclick="showLesson('strategien')">Master Strategien - Gro√ümeister Techniken</a></li>
                    <li><a onclick="showLesson('taktik')">Taktik-Labor - 10.000+ R√§tsel</a></li>
                    <li><a onclick="showLesson('er√∂ffnungen')">Er√∂ffnungs-Datenbank - 500+ Varianten</a></li>
                </ul>
            </div>

            <div class="feature-card">
                <div class="feature-icon">‚öîÔ∏è</div>
                <h3>Elite Challenges</h3>
                <p>T√§gliche Herausforderungen und Wettk√§mpfe gegen Weltklasse-Gegner</p>
                <ul>
                    <li><a onclick="startDailyPuzzle()">Daily Grandmaster Puzzle</a></li>
                    <li><a onclick="showTournaments()">Championship Turniere</a></li>
                    <li><a onclick="startSpeedChess()">Blitz Arena - Live Matches</a></li>
                    <li><a onclick="showStats()">Performance Analytics</a></li>
                </ul>
            </div>

            <div class="feature-card">
                <div class="feature-icon">üåê</div>
                <h3>Global Network</h3>
                <p>Vernetze dich mit Elite-Spielern weltweit und teile Strategien</p>
                <ul>
                    <li><a onclick="showForum()">Pro Forum - Strategie Diskussionen</a></li>
                    <li><a onclick="showPlayers()">1,247 Spieler Online</a></li>
                    <li><a onclick="createTournament()">Turnier Manager</a></li>
                    <li><a onclick="showLeaderboard()">Global Leaderboard</a></li>
                </ul>
            </div>
        </div>

        <!-- Chessboard Section -->
        <div class="chessboard-section">
            <div class="board-header">
                <div class="game-title">üéÆ LIVE CHESS SIMULATOR</div>
                <div class="game-controls">
                    <button class="btn" onclick="resetBoard()">‚ü≥ Neues Spiel</button>
                    <button class="btn btn-secondary" onclick="undoMove()">‚Ü∂ Zur√ºck</button>
                    <button class="btn btn-secondary" onclick="rotateBoard()">‚ü≤ Drehen</button>
                    <button class="btn btn-danger" onclick="aiMove()">ü§ñ KI Zug</button>
                </div>
            </div>

            <div class="status-message" id="statusMessage">Bereit zum Start - Wei√ü am Zug</div>

            <div class="chessboard-container">
                <div class="chessboard" id="chessboard"></div>
            </div>
        </div>

        <!-- Resources Section -->
        <div class="chess-resources">
            <h2>üìö Premium Ressourcen</h2>
            <div class="resources-grid">
                <div class="resource-item" onclick="showVideos()">
                    <span class="resource-icon">üìπ</span>
                    <h4>Master Class Videos</h4>
                    <p>Exklusive Lektionen von Gro√ümeistern</p>
                </div>
                <div class="resource-item" onclick="showBooks()">
                    <span class="resource-icon">üìñ</span>
                    <h4>Digital Library</h4>
                    <p>500+ Schachb√ºcher & PDFs</p>
                </div>
                <div class="resource-item" onclick="showDailyExercise()">
                    <span class="resource-icon">üí™</span>
                    <h4>Daily Training</h4>
                    <p>Personalisierte √úbungspl√§ne</p>
                </div>
                <div class="resource-item" onclick="showAnalysis()">
                    <span class="resource-icon">üìä</span>
                    <h4>Game Analysis</h4>
                    <p>KI-gest√ºtzte Partieanalyse</p>
                </div>
                <div class="resource-item" onclick="openExternalResource('chess.com')">
                    <span class="resource-icon">üåê</span>
                    <h4>Chess.com</h4>
                    <p>Externe Plattform besuchen</p>
                </div>
                <div class="resource-item" onclick="showCoaching()">
                    <span class="resource-icon">üë®‚Äçüè´</span>
                    <h4>Personal Coaching</h4>
                    <p>1-on-1 Training buchen</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">Information</h2>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script>
        // ========== GLOBAL VARIABLES ==========
        let gameBoard = [];
        let selectedSquare = null;
        let moveHistory = [];
        let isWhiteTurn = true;
        let boardRotated = false;
        let playerStats = {
            wins: 156,
            losses: 45,
            draws: 23,
            elo: 1847
        };

        // ========== BOARD MANAGEMENT ==========
        function initializeBoard() {
            gameBoard = [
                ['‚ôú','‚ôû','‚ôù','‚ôõ','‚ôö','‚ôù','‚ôû','‚ôú'],
                ['‚ôü','‚ôü','‚ôü','‚ôü','‚ôü','‚ôü','‚ôü','‚ôü'],
                ['','','','','','','',''],
                ['','','','','','','',''],
                ['','','','','','','',''],
                ['','','','','','','',''],
                ['‚ôô','‚ôô','‚ôô','‚ôô','‚ôô','‚ôô','‚ôô','‚ôô'],
                ['‚ôñ','‚ôò','‚ôó','‚ôï','‚ôî','‚ôó','‚ôò','‚ôñ']
            ];
            renderBoard();
            playSound('start');
        }

        function renderBoard() {
            const board = document.getElementById('chessboard');
            board.innerHTML = '';
            
            const displayBoard = boardRotated ? [...gameBoard].reverse() : gameBoard;
            
            for (let i = 0; i < 8; i++) {
                for (let j = 0; j < 8; j++) {
                    const square = document.createElement('div');
                    const actualI = boardRotated ? 7 - i : i;
                    const actualJ = boardRotated ? 7 - j : j;
                    
                    square.className = `square ${(i + j) % 2 ? 'black' : 'white'}`;
                    square.textContent = displayBoard[i][j];
                    square.dataset.row = actualI;
                    square.dataset.col = actualJ;
                    square.onclick = () => handleSquareClick(actualI, actualJ);
                    
                    board.appendChild(square);
                }
            }
        }

        function handleSquareClick(row, col) {
            if (selectedSquare === null) {
                if (gameBoard[row][col] !== '') {
                    selectedSquare = {row, col};
                    highlightSquare(row, col);
                    setStatus(`‚ú® Figur gew√§hlt - W√§hle Zielposition`);
                    playSound('select');
                }
            } else {
                if (selectedSquare.row === row && selectedSquare.col === col) {
                    selectedSquare = null;
                    renderBoard();
                    setStatus(`${isWhiteTurn ? '‚ö™ Wei√ü' : '‚ö´ Schwarz'} am Zug`);
                } else {
                    movePiece(selectedSquare.row, selectedSquare.col, row, col);
                    selectedSquare = null;
                }
            }
        }

        function highlightSquare(row, col) {
            const squares = document.querySelectorAll('.square');
            squares.forEach(sq => {
                if (parseInt(sq.dataset.row) === row && parseInt(sq.dataset.col) === col) {
                    sq.classList.add('selected');
                }
            });
        }

        function movePiece(fromRow, fromCol, toRow, toCol) {
            const piece = gameBoard[fromRow][fromCol];
            const captured = gameBoard[toRow][toCol];
            
            moveHistory.push({
                from: {row: fromRow, col: fromCol},
                to: {row: toRow, col: toCol},
                piece: piece,
                captured: captured
            });
            
            gameBoard[toRow][toCol] = piece;
            gameBoard[fromRow][fromCol] = '';
            
            isWhiteTurn = !isWhiteTurn;
            renderBoard();
            
            if (captured) {
                playSound('capture');
                showToast('üéØ Figur geschlagen!');
            } else {
                playSound('move');
            }
            
            setStatus(`${isWhiteTurn ? '‚ö™ Wei√ü' : '‚ö´ Schwarz'} am Zug`);
            
            // Update stats
            updateStats();
        }

        function undoMove() {
            if (moveHistory.length === 0) {
                showToast('‚ö†Ô∏è Keine Z√ºge zum R√ºckg√§ngigmachen!');
                return;
            }
            
            const lastMove = moveHistory.pop();
            gameBoard[lastMove.from.row][lastMove.from.col] = lastMove.piece;
            gameBoard[lastMove.to.row][lastMove.to.col] = lastMove.captured;
            
            isWhiteTurn = !isWhiteTurn;
            renderBoard();
            setStatus('‚Ü∂ Zug r√ºckg√§ngig gemacht');
            playSound('undo');
        }

        function resetBoard() {
            if (confirm('üéÆ Neues Spiel starten?')) {
                moveHistory = [];
                selectedSquare = null;
                isWhiteTurn = true;
                initializeBoard();
                setStatus('üéØ Neues Spiel gestartet - Wei√ü beginnt');
                showToast('‚ú® Neues Spiel initialisiert!');
            }
        }

        function rotateBoard() {
            boardRotated = !boardRotated;
            renderBoard();
            setStatus('‚ü≤ Brett gedreht');
            playSound('rotate');
        }

        function aiMove() {
            // Simple AI: Random valid move
            const pieces = [];
            for (let i = 0; i < 8; i++) {
                for (let j = 0; j < 8; j++) {
                    if (gameBoard[i][j] !== '') {
                        pieces.push({row: i, col: j});
                    }
                }
            }
            
            if (pieces.length > 0) {
                const randomPiece = pieces[Math.floor(Math.random() * pieces.length)];
                const validMoves = getValidMoves(randomPiece.row, randomPiece.col);
                
                if (validMoves.length > 0) {
                    const randomMove = validMoves[Math.floor(Math.random() * validMoves.length)];
                    movePiece(randomPiece.row, randomPiece.col, randomMove.row, randomMove.col);
                    showToast('ü§ñ KI hat gezogen!');
                }
            }
        }

        function getValidMoves(row, col) {
            const moves = [];
            // Simplified: just return empty squares
            for (let i = 0; i < 8; i++) {
                for (let j = 0; j < 8; j++) {
                    if (gameBoard[i][j] === '' && Math.abs(i - row) <= 2 && Math.abs(j - col) <= 2) {
                        moves.push({row: i, col: j});
                    }
                }
            }
            return moves;
        }

        // ========== UI FUNCTIONS ==========
        function setStatus(message) {
            document.getElementById('statusMessage').textContent = message;
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        function showModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('infoModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('infoModal').style.display = 'none';
        }

        // ========== SOUND EFFECTS ==========
        function playSound(type) {
            // Simulate sound with console (replace with actual audio later)
            const sounds = {
                'move': '‚ô™ Zug',
                'capture': '‚ô™ Schlagen',
                'select': '‚ô™ Auswahl',
                'start': '‚ô™ Start',
                'undo': '‚ô™ Zur√ºck',
                'rotate': '‚ô™ Drehen'
            };
            console.log(sounds[type] || '‚ô™ Sound');
        }

        // ========== LESSONS & CONTENT ==========
        function showLesson(type) {
            const lessons = {
                'grundregeln': `
                    <h3>‚ö° Quantum Basics - Fundamentale Prinzipien</h3>
                    <div class="leaderboard">
                        <p>üéØ <strong>Regel 1:</strong> Kontrolliere das Zentrum (d4, e4, d5, e5)</p>
                        <p>üéØ <strong>Regel 2:</strong> Entwickle Figuren schnell und effizient</p>
                        <p>üéØ <strong>Regel 3:</strong> Sch√ºtze deinen K√∂nig durch Rochade</p>
                        <p>üéØ <strong>Regel 4:</strong> Jede Figur hat ihre optimale Position</p>
                        <p>üéØ <strong>Regel 5:</strong> Plane mindestens 3 Z√ºge im Voraus</p>
                    </div>
                    <p><em>üí° Tipp: Verstehe die Grundprinzipien bevor du komplexe Taktiken lernst!</em></p>
                `,
                'strategien': `
                    <h3>üëë Master Strategien - Gro√ümeister Techniken</h3>
                    <div class="leaderboard">
                        <p>‚öîÔ∏è <strong>Gabelung:</strong> Greife zwei Figuren gleichzeitig an</p>
                        <p>‚öîÔ∏è <strong>Fesselung:</strong> Immobilisiere gegnerische Figuren</p>
                        <p>‚öîÔ∏è <strong>Spie√ü:</strong> Zwinge wertvollere Figur zum Ausweichen</p>
                        <p>‚öîÔ∏è <strong>Bauernketten:</strong> Kontrolle durch verbundene Bauern</p>
                        <p>‚öîÔ∏è <strong>Raumvorteil:</strong> Dominiere mehr Felder als der Gegner</p>
                    </div>
                    <p><em>üíé Meisterschaft: Kombiniere mehrere Taktiken f√ºr maximale Wirkung!</em></p>
                `,
                'taktik': `
                    <h3>üß© Taktik-Labor - 10.000+ R√§tsel</h3>
                    <div class="leaderboard">
                        <p>üéÆ <strong>Level 1:</strong> Anf√§nger (800-1200 ELO) - 2,450 R√§tsel</p>
                        <p>üéÆ <strong>Level 2:</strong> Fortgeschritten (1200-1600) - 3,200 R√§tsel</p>
                        <p>üéÆ <strong>Level 3:</strong> Expert (1600-2000) - 2,850 R√§tsel</p>
                        <p>üéÆ <strong>Level 4:</strong> Meister (2000-2400) - 1,300 R√§tsel</p>
                        <p>üéÆ <strong>Level 5:</strong> Gro√ümeister (2400+) - 500 R√§tsel</p>
                    </div>
                    <button class="btn" onclick="closeModal(); startDailyPuzzle();">Jetzt starten!</button>
                `,
                'er√∂ffnungen': `
                    <h3>üìö Er√∂ffnungs-Datenbank - 500+ Varianten</h3>
                    <div class="leaderboard">
                        <p>‚ôî <strong>Italienisch:</strong> 1.e4 e5 2.Nf3 Nc6 3.Bc4</p>
                        <p>‚ôî <strong>Spanisch:</strong> 1.e4 e5 2.Nf3 Nc6 3.Bb5</p>
                        <p>‚ôî <strong>Sizilianisch:</strong> 1.e4 c5 (aggressivste Verteidigung)</p>
                        <p>‚ôî <strong>Franz√∂sisch:</strong> 1.e4 e6 (solide Struktur)</p>
                        <p>‚ôî <strong>Damengambit:</strong> 1.d4 d5 2.c4 (klassisch)</p>
                    </div>
                    <p><em>üéØ Experten-Tipp: Meistere 2-3 Er√∂ffnungen perfekt statt viele oberfl√§chlich!</em></p>
                `
            };
            showModal('Training Academy', lessons[type] || 'Lektion wird geladen...');
            playSound('start');
        }

        function startDailyPuzzle() {
            showModal('üèÜ Grandmaster Puzzle des Tages', `
                <h3>Matt in 3 Z√ºgen - Finde die Meisterhafte L√∂sung!</h3>
                <div style="text-align:center; font-size:50px; margin:30px 0; background:rgba(0,0,0,0.3); padding:20px; border-radius:15px;">
                    ‚ôñ _ _ _ ‚ôö _ _ ‚ôú<br>
                    _ _ _ _ _ ‚ôü ‚ôü ‚ôü<br>
                    _ ‚ôô _ _ _ _ _ _<br>
                    _ _ _ ‚ôï ‚ôô _ _ _<br>
                </div>
                <div class="leaderboard">
                    <p>üéØ <strong>Schwierigkeit:</strong> Gro√ümeister (2400+ ELO)</p>
                    <p>‚è±Ô∏è <strong>Zeit-Limit:</strong> 5 Minuten</p>
                    <p>üíé <strong>Belohnung:</strong> +50 ELO Punkte</p>
                </div>
                <p><em>üí° Hinweis: Die Dame und der Turm bilden eine t√∂dliche Kombination...</em></p>
                <br>
                <button class="btn" onclick="alert('‚ö° L√∂sung: 1. Qh5+ Kg8 2. Qh7+ Kf8 3. Qh8# Matt!')">L√∂sung anzeigen</button>
            `);
        }

        function showTournaments() {
            showModal('üèÜ Championship Turniere', `
                <h3>Aktive Elite-Turniere</h3>
                <div class="leaderboard">
                    <div class="leaderboard-item">
                        <span>üèÜ</span>
                        <span><strong>World Championship Qualifier</strong><br>Preisgeld: $10,000</span>
                        <button class="btn">Teilnehmen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚ö°</span>
                        <span><strong>Blitz Masters Arena</strong><br>300 Spieler aktiv</span>
                        <button class="btn">Join</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>üëë</span>
                        <span><strong>Grandmaster Invitational</strong><br>Nur 2200+ ELO</span>
                        <button class="btn btn-secondary">Gesperrt</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>üéØ</span>
                        <span><strong>Weekend Warrior Cup</strong><br>Samstag 14:00 CET</span>
                        <button class="btn">Anmelden</button>
                    </div>
                </div>
            `);
        }

        function startSpeedChess() {
            showToast('‚ö° Suche nach Gegner... Blitz Match startet in 10 Sekunden!');
            setTimeout(() => {
                showModal('‚ö° BLITZ ARENA', `
                    <h3>Gegner gefunden!</h3>
                    <div class="leaderboard">
                        <div class="leaderboard-item">
                            <span>‚ö™</span>
                            <span><strong>Du</strong><br>ELO: 1847</span>
                            <span class="elo-rating">‚óè‚óè‚óè‚óè‚óã</span>
                        </div>
                        <div class="leaderboard-item">
                            <span>‚ö´</span>
                            <span><strong>SpeedDemon_2K</strong><br>ELO: 1923</span>
                            <span class="elo-rating">‚óè‚óè‚óè‚óè‚óè</span>
                        </div>
                    </div>
                    <p style="text-align:center; margin:20px 0; font-size:1.5rem;">
                        ‚è±Ô∏è <strong>3 Minuten + 2 Sekunden pro Zug</strong>
                    </p>
                    <button class="btn" onclick="closeModal(); showToast('üéÆ Match gestartet!')">Match starten!</button>
                `);
            }, 2000);
        }

        function showStats() {
            showModal('üìä Performance Analytics', `
                <h3>Deine Statistiken</h3>
                <div class="leaderboard">
                    <div class="leaderboard-item">
                        <span>üèÜ</span>
                        <span>Siege</span>
                        <span class="elo-rating">${playerStats.wins}</span>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚ùå</span>
                        <span>Niederlagen</span>
                        <span class="elo-rating">${playerStats.losses}</span>
                    </div>
                    <div class="leaderboard-item">
                        <span>ü§ù</span>
                        <span>Remis</span>
                        <span class="elo-rating">${playerStats.draws}</span>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚≠ê</span>
                        <span>Aktuelles ELO</span>
                        <span class="elo-rating">${playerStats.elo}</span>
                    </div>
                    <div class="leaderboard-item">
                        <span>üî•</span>
                        <span>L√§ngste Siegesserie</span>
                        <span class="elo-rating">12 Spiele</span>
                    </div>
                    <div class="leaderboard-item">
                        <span>üìà</span>
                        <span>Gewinnrate</span>
                        <span class="elo-rating">69.8%</span>
                    </div>
                </div>
                <h3 style="margin-top:20px;">Letzte Partien</h3>
                <div class="leaderboard">
                    <p>‚úÖ Sieg vs. ChessMaster99 (1802 ELO) +18</p>
                    <p>‚úÖ Sieg vs. TacticalKing (1834 ELO) +20</p>
                    <p>‚ùå Niederlage vs. GrandmasterX (2156 ELO) -12</p>
                    <p>ü§ù Remis vs. StrategyPro (1891 ELO) +5</p>
                    <p>‚úÖ Sieg vs. BlitzQueen (1776 ELO) +16</p>
                </div>
            `);
        }

        function showForum() {
            showModal('üí¨ Pro Forum - Strategie Diskussionen', `
                <h3>Trending Topics</h3>
                <div class="leaderboard">
                    <div class="leaderboard-item">
                        <span>üî•</span>
                        <span><strong>"Sizilianische Verteidigung - Najdorf Variante"</strong><br>127 Antworten ¬∑ 2.3k Views</span>
                        <button class="btn">√ñffnen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>üíé</span>
                        <span><strong>"Endspiel: Turm + Bauer vs. Turm"</strong><br>89 Antworten ¬∑ 1.8k Views</span>
                        <button class="btn">√ñffnen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚ö°</span>
                        <span><strong>"Blitz Chess Strategien f√ºr 2024"</strong><br>203 Antworten ¬∑ 4.1k Views</span>
                        <button class="btn">√ñffnen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>üéØ</span>
                        <span><strong>"Wie komme ich von 1800 auf 2000 ELO?"</strong><br>156 Antworten ¬∑ 3.2k Views</span>
                        <button class="btn">√ñffnen</button>
                    </div>
                </div>
            `);
        }

        function showPlayers() {
            showModal('üåê Online Spieler (1,247 aktiv)', `
                <h3>Elite Spieler</h3>
                <div class="leaderboard">
                    <div class="leaderboard-item">
                        <span class="rank">#1</span>
                        <span class="player-name">QuantumGM_Elite</span>
                        <span class="elo-rating">2847</span>
                    </div>
                    <div class="leaderboard-item">
                        <span class="rank">#2</span>
                        <span class="player-name">TacticalGenius_Pro</span>
                        <span class="elo-rating">2723</span>
                    </div>
                    <div class="leaderboard-item">
                        <span class="rank">#3</span>
                        <span class="player-name">SpeedDemon_2K</span>
                        <span class="elo-rating">2698</span>
                    </div>
                    <div class="leaderboard-item">
                        <span class="rank">#4</span>
                        <span class="player-name">StrategicMind</span>
                        <span class="elo-rating">2645</span>
                    </div>
                    <div class="leaderboard-item">
                        <span class="rank">#5</span>
                        <span class="player-name">BlitzMaster_X</span>
                        <span class="elo-rating">2589</span>
                    </div>
                </div>
                <p style="text-align:center; margin-top:20px;">
                    <button class="btn" onclick="showToast('üéÆ Challenge-Anfrage gesendet!')">Challenge senden</button>
                </p>
            `);
        }

        function showLeaderboard() {
            showModal('üèÜ Global Leaderboard - Top 100', `
                <h3>World Rankings</h3>
                <div class="leaderboard">
                    <div class="leaderboard-item">
                        <span class="rank">ü•á</span>
                        <span class="player-name">Magnus_Carlsen_Official</span>
                        <span class="elo-rating">2882</span>
                    </div>
                    <div class="leaderboard-item">
                        <span class="rank">ü•à</span>
                        <span class="player-name">Hikaru_Nakamura</span>
                        <span class="elo-rating">2871</span>
                    </div>
                    <div class="leaderboard-item">
                        <span class="rank">ü•â</span>
                        <span class="player-name">QuantumGM_Elite</span>
                        <span class="elo-rating">2847</span>
                    </div>
                    <div class="leaderboard-item">
                        <span class="rank">#4</span>
                        <span class="player-name">FabianoCaruana</span>
                        <span class="elo-rating">2834</span>
                    </div>
                    <div class="leaderboard-item">
                        <span class="rank">#5</span>
                        <span class="player-name">IanNepomniachtchi</span>
                        <span class="elo-rating">2812</span>
                    </div>
                    <div class="leaderboard-item" style="border-left-color: var(--accent-gold);">
                        <span class="rank">#247</span>
                        <span class="player-name">‚≠ê Du (Player_${Math.floor(Math.random()*9999)})</span>
                        <span class="elo-rating">${playerStats.elo}</span>
                    </div>
                </div>
            `);
        }

        function createTournament() {
            showModal('üéÆ Turnier Manager', `
                <h3>Neues Turnier erstellen</h3>
                <div class="leaderboard">
                    <p><strong>üìÖ Datum & Zeit</strong><br>
                    <input type="datetime-local" style="width:100%; padding:10px; border-radius:5px; background:rgba(0,0,0,0.3); color:var(--text-primary); border:1px solid var(--accent-cyan);"></p>
                    
                    <p><strong>üéÆ Spielmodus</strong><br>
                    <select style="width:100%; padding:10px; border-radius:5px; background:rgba(0,0,0,0.3); color:var(--text-primary); border:1px solid var(--accent-cyan);">
                        <option>‚ö° Blitz (3+2)</option>
                        <option>üöÄ Rapid (10+5)</option>
                        <option>üëë Classical (30+30)</option>
                        <option>üí® Bullet (1+0)</option>
                    </select></p>
                    
                    <p><strong>üë• Max. Teilnehmer</strong><br>
                    <select style="width:100%; padding:10px; border-radius:5px; background:rgba(0,0,0,0.3); color:var(--text-primary); border:1px solid var(--accent-cyan);">
                        <option>8 Spieler</option>
                        <option>16 Spieler</option>
                        <option>32 Spieler</option>
                        <option>64 Spieler</option>
                    </select></p>
                    
                    <p><strong>üèÜ Preise</strong><br>
                    <input type="text" placeholder="z.B. 1000 Punkte, Abzeichen, Titel" style="width:100%; padding:10px; border-radius:5px; background:rgba(0,0,0,0.3); color:var(--text-primary); border:1px solid var(--accent-cyan);"></p>
                </div>
                <br>
                <button class="btn" onclick="showToast('üéâ Turnier erfolgreich erstellt!'); closeModal();">Turnier erstellen</button>
                <button class="btn btn-secondary" onclick="closeModal()">Abbrechen</button>
            `);
        }

        function showVideos() {
            showModal('üìπ Master Class Videos', `
                <h3>Exklusive Gro√ümeister-Lektionen</h3>
                <div class="leaderboard">
                    <div class="leaderboard-item">
                        <span>‚ñ∂Ô∏è</span>
                        <span><strong>"Endspiel-Meisterschaft"</strong><br>GM Magnus Carlsen ¬∑ 2h 15min</span>
                        <button class="btn">Ansehen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚ñ∂Ô∏è</span>
                        <span><strong>"Sizilianische Najdorf Tiefenanalyse"</strong><br>GM Garry Kasparov ¬∑ 1h 45min</span>
                        <button class="btn">Ansehen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚ñ∂Ô∏è</span>
                        <span><strong>"Psychologie im Schach"</strong><br>GM Hikaru Nakamura ¬∑ 58min</span>
                        <button class="btn">Ansehen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚ñ∂Ô∏è</span>
                        <span><strong>"Blitz Strategien 2024"</strong><br>GM Daniel Naroditsky ¬∑ 1h 22min</span>
                        <button class="btn">Ansehen</button>
                    </div>
                </div>
            `);
        }

        function showBooks() {
            showModal('üìñ Digital Library - 500+ B√ºcher', `
                <h3>Empfohlene Schachliteratur</h3>
                <div class="leaderboard">
                    <p>üìö <strong>"My 60 Memorable Games"</strong> - Bobby Fischer<br><em>Klassiker der Schachliteratur</em></p>
                    <p>üìö <strong>"Dvoretsky's Endgame Manual"</strong> - Mark Dvoretsky<br><em>Die Bibel des Endspiels</em></p>
                    <p>üìö <strong>"The Art of Attack in Chess"</strong> - Vladimir Vukovic<br><em>Meisterhafte Angriffsf√ºhrung</em></p>
                    <p>üìö <strong>"Fundamental Chess Endings"</strong> - Karsten M√ºller<br><em>Komplettes Endspiel-Kompendium</em></p>
                    <p>üìö <strong>"Zurich 1953"</strong> - David Bronstein<br><em>Analyse historischer Partien</em></p>
                </div>
                <button class="btn" onclick="closeModal()">Zur Bibliothek</button>
            `);
        }

        function showDailyExercise() {
            showModal('üí™ Daily Training - Personalisiert', `
                <h3>Dein Trainingsplan f√ºr heute</h3>
                <div class="leaderboard">
                    <div class="leaderboard-item">
                        <span>‚úÖ</span>
                        <span><strong>Taktik-R√§tsel</strong><br>10 Aufgaben (1600-1800 ELO)</span>
                        <button class="btn">Start</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚è≥</span>
                        <span><strong>Er√∂ffnungs-Training</strong><br>Sizilianisch Najdorf Review</span>
                        <button class="btn">Start</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>üìä</span>
                        <span><strong>Partieanalyse</strong><br>Analysiere deine letzte Niederlage</span>
                        <button class="btn">Start</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>üéØ</span>
                        <span><strong>Endspiel-Drill</strong><br>Turm-Endspiele Basics</span>
                        <button class="btn">Start</button>
                    </div>
                </div>
                <p style="text-align:center; margin-top:20px;"><em>üíé T√§gliches Training erh√∂ht dein ELO um durchschnittlich 150 Punkte pro Jahr!</em></p>
            `);
        }

        function showAnalysis() {
            showModal('üìä KI Game Analysis', `
                <h3>Letzte Partie analysieren</h3>
                <div class="leaderboard">
                    <p>ü§ñ <strong>Quantum Chess Engine 5.0</strong> analysiert deine Partien mit 3200+ ELO St√§rke</p>
                    <p>üìà <strong>Fehleranalyse:</strong> Identifiziert Fehler und verpasste Chancen</p>
                    <p>üí° <strong>Verbesserungsvorschl√§ge:</strong> Konkrete Tipps f√ºr bessere Z√ºge</p>
                    <p>üéØ <strong>Schwachstellen:</strong> Zeigt Muster in deinen Fehlern</p>
                    <p>‚≠ê <strong>Genauigkeit:</strong> Berechnet deine Spielst√§rke pro Partie</p>
                </div>
                <br>
                <button class="btn" onclick="showToast('üîç Analyse gestartet... Ergebnisse in 30 Sekunden!')">Letzte Partie analysieren</button>
            `);
        }

        function showCoaching() {
            showModal('üë®‚Äçüè´ Personal Coaching', `
                <h3>1-on-1 Training mit Profis</h3>
                <div class="leaderboard">
                    <div class="leaderboard-item">
                        <span>üëë</span>
                        <span><strong>GM Magnus (2882 ELO)</strong><br>$150/Stunde ¬∑ 5‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        <button class="btn btn-secondary">Ausgebucht</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>üë®‚Äçüè´</span>
                        <span><strong>IM Sarah (2456 ELO)</strong><br>$50/Stunde ¬∑ 4.9‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        <button class="btn">Buchen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>üéì</span>
                        <span><strong>FM David (2301 ELO)</strong><br>$30/Stunde ¬∑ 4.8‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        <button class="btn">Buchen</button>
                    </div>
                    <div class="leaderboard-item">
                        <span>‚≠ê</span>
                        <span><strong>Coach Alex (2150 ELO)</strong><br>$20/Stunde ¬∑ 4.7‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        <button class="btn">Buchen</button>
                    </div>
                </div>
            `);
        }

        function openExternalResource(site) {
            const urls = {
                'chess.com': 'https://www.chess.com/de',
                'lichess': 'https://lichess.org'
            };
            if (urls[site]) {
                showToast('üåê √ñffne externe Plattform...');
                setTimeout(() => window.open(urls[site], '_blank'), 1000);
            }
        }

        function updateStats() {
            // Simulate stat updates
            if (Math.random() > 0.5) {
                playerStats.wins++;
                playerStats.elo += Math.floor(Math.random() * 20) + 5;
            }
            // Update stat display
            document.querySelectorAll('.stat-value')[0].textContent = playerStats.elo;
            document.querySelectorAll('.stat-value')[1].textContent = playerStats.wins;
        }

        // ========== VISUAL EFFECTS ==========
        function setupMatrix() {
            const canvas = document.getElementById('matrix-bg');
            const ctx = canvas.getContext('2d');

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const characters = "‚ôî‚ôï‚ôñ‚ôó‚ôò‚ôô‚ôö‚ôõ‚ôú‚ôù‚ôû‚ôüABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
            const fontSize = 14;
            const columns = canvas.width / fontSize;
            const drops = Array(Math.floor(columns)).fill(1);

            function draw() {
                ctx.fillStyle = 'rgba(10, 14, 39, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = 'rgba(0, 240, 255, 0.8)';
                ctx.font = fontSize + 'px monospace';

                for (let i = 0; i < drops.length; i++) {
                    const text = characters[Math.floor(Math.random() * characters.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }

            setInterval(draw, 33);
        }

        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                container.appendChild(particle);
            }
        }

        // ========== EVENT LISTENERS ==========
        window.addEventListener('resize', function() {
            const canvas = document.getElementById('matrix-bg');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        window.onclick = function(event) {
            const modal = document.getElementById('infoModal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // ========== INITIALIZATION ==========
        window.onload = function() {
            initializeBoard();
            setupMatrix();
            createParticles();
            setStatus('‚ö° System bereit - W√§hle Wei√ü f√ºr den ersten Zug');
            showToast('üéÆ Willkommen in der Quantum Chess Academy!');
            
            // Easter egg: Konami code
            let konamiCode = [];
            const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
            document.addEventListener('keydown', function(e) {
                konamiCode.push(e.key);
                konamiCode = konamiCode.slice(-10);
                if (konamiCode.join(',') === konamiSequence.join(',')) {
                    showToast('üéâ CHEAT CODE AKTIVIERT! +100 ELO');
                    playerStats.elo += 100;
                    updateStats();
                }
            });
        };
    </script>
</body>
</html>
